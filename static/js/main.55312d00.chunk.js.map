{"version":3,"sources":["Countries.tsx","Institutes.tsx","data/Advocacy.js","data/Affinity.js","entities/Country.ts","entities/Advocacy.ts","App.tsx","serviceWorker.ts","index.tsx"],"names":["Countries","aseanCountries","eaesCountries","countriesOptions","props","countries","map","name","text","value","onChange","checked","state","values","setCountry","country","handleCountryGroup","group","groupValue","forEach","every","array","allDeselected","isDisabled","selectedCount","maxSelected","this","displayMembership","label","key","className","membershipOnChange","size","isValid","title","type","icon","colored","option","style","display","disabled","renderMembership","membershipValue","selected","Object","keys","filter","k","find","x","includes","length","minSelected","React","Component","generateInitialValuesForInstitutes","institutes","reduce","a","c","options","a1","c1","Institutes","onChangeRadio","result","getResultValue","otherValues","split","v","onChangeCheckbox","renderChildren","institute","o","resultValue","children","level","countriesValues","renderRadio","parent","renderCheckbox","renderInstitute","condition","optionValue","marginLeft","paddingLeft","marginTop","borderLeft","i","defaultProps","AdvocacyData","AffinityData","Country","affinity_abs","affinity_rel","advocacy_thal","advocacy_tel","advocacy_ind","advocacy","affinity","create","Advocacy","findMaxCountry","property","max","current","finMinCountry","handleCase","getFiltered","min","numberToFilter","field","revert","COUNTRIES","ADVOCACY","OPENNESS","SCOPE","COMMITMENT","INHERITANCE","INHERITANCE_REQUIRED","UNIQNESS","INSTITUTES","App","minCountriesSelected","maxCountriesSelected","membership","onInstituteChange","extraState","setState","onCountriesChange","console","log","selectedInstitutes","countriesRaw","createList","selectedCountries","opennessInstitute","Boolean","window","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.55312d00.chunk.js","sourcesContent":["import React from 'react';\nimport CheckBox from 'arui-feather/checkbox';\nimport CheckBoxGroup from 'arui-feather/checkbox-group';\nimport Label from 'arui-feather/label';\nimport Plate from 'arui-feather/plate';\nimport IconError from 'arui-feather/icon/ui/error';\nimport Heading from 'arui-feather/heading';\nimport RadioGroup from 'arui-feather/radio-group';\nimport Radio from 'arui-feather/radio';\n\nexport interface ICountriesValues {\n  [k: string]: boolean;\n}\ninterface IProps {\n  onChange: (values: ICountriesValues) => void;\n  countries: string[];\n  values: ICountriesValues;\n  minSelected: number;\n  maxSelected: number;\n\n  membershipValue: ICountriesValues;\n  displayMembership: boolean;\n  membershipOnChange: (value: boolean, name: string) => void;\n}\n\nexport class Countries extends React.Component<IProps> {\n  aseanCountries = [\n    'Бруней Даруссалам',\n    'Вьетнам',\n    'Камбоджа',\n    'Лаос',\n    'Индонезия',\n    'Малайзия',\n    'Мьянма',\n    'Сингапур',\n    'Таиланд',\n    'Филиппины',\n    \n  ]\n\n  eaesCountries = [\n    'Россия'\n  ]\n\n  countriesOptions = this.props.countries.map(name => ({ text: name, value: name }));\n\n  onChange = (checked: boolean, value: string) => {\n    let state = { ...this.props.values, [value]: checked };\n\n    const setCountry = (country: string) => {\n      state[country] = checked;\n    };\n    const allSelected = (array: string[]) => array.every(country => state[country]);\n    const allDeselected = (array: string[]) => array.every(country => !state[country]);\n\n    const handleCountryGroup = (group: string[], groupValue: string) => {\n      if (value === groupValue) {\n        group.forEach(setCountry);\n      }\n      if (allSelected(group)) {\n        state[groupValue] = true;\n      }\n      if (allDeselected(group)) {\n        state[groupValue] = false\n      }\n    }\n\n    handleCountryGroup(this.aseanCountries, 'АСЕАН');\n    handleCountryGroup(this.eaesCountries, 'ЕАЭС');\n\n    this.props.onChange(state);\n  }\n\n  get selectedCount() {\n    let selected = Object.keys(this.props.values).filter(k => this.props.values[k]);\n\n    const handleCountryGroup = (group: string[], groupValue: string) => {\n      if (selected.find(x => x === groupValue)) {\n        selected = selected.filter(k => !group.includes(k));\n      }\n    };\n\n    handleCountryGroup(this.aseanCountries, 'АСЕАН');\n    handleCountryGroup(this.eaesCountries, 'ЕАЭС');\n\n    return selected.length;\n  }\n\n  isDisabled = (value: string) => {\n    const isSelected = this.props.values[value];\n    if (isSelected) {\n      return false;\n    }\n\n    if (this.selectedCount && this.props.maxSelected === this.selectedCount) {\n      return true;\n    }\n    return false;\n  }\n\n  get label() {\n    if (this.props.minSelected && !this.props.maxSelected) {\n      return `Необходимо выбрать не меньше ${this.props.minSelected}`\n    }\n    if (this.props.maxSelected && this.props.minSelected && this.props.maxSelected === this.props.minSelected) {\n      return `Необходимо выбрать ровно ${this.props.maxSelected}`\n    }\n    return '';\n  }\n\n  get isValid() {\n    if (this.props.minSelected && (this.selectedCount < this.props.minSelected)) {\n      return false;\n    }\n    if (this.props.maxSelected && (this.selectedCount > this.props.maxSelected)) {\n      return false;\n    }\n    return true;\n  }\n  renderMembership(value: boolean, country: string) {\n    if (!this.props.displayMembership) {\n      return null;\n    }\n    return (<RadioGroup label={'Состоит в базовом?'} key={'membership' + country} className='App__membership'>\n      <Radio\n        text={'Да'}\n        value={'yes'}\n        onChange={() => this.props.membershipOnChange(true, country)}\n        checked={value}\n      />\n      <Radio\n        text={'Нет'}\n        value={'no'}\n        onChange={() => this.props.membershipOnChange(false, country)}\n        checked={!value}\n      />\n    </RadioGroup>);\n  }\n  render() {\n    // console.log(this.props.minSelected, this.props.maxSelected);\n    return (<div>\n      <Heading size='xs'>\n        Выберите страны/объединения:\n      </Heading>\n      {\n        !this.isValid && <Plate\n          title='Выбрано неверное количество стран/объединений:'\n          type='error'\n          icon={\n            <IconError\n              colored={true}\n            />\n          }\n        />\n      }\n      <div className=\"App__container\">\n        <CheckBoxGroup label={<Label size='m'>{this.label}</Label>}>\n          {this.countriesOptions.map(option => (\n            <div key={option.value} style={{ display: 'flex' }}>\n              <CheckBox\n                key={option.value}\n                onChange={this.onChange}\n                disabled={this.isDisabled(option.value)}\n                checked={this.props.values[option.value]}\n                {...option}\n              />\n              {this.renderMembership(this.props.membershipValue[option.value], option.value)}\n            </div>\n          ))}\n        </CheckBoxGroup>\n      </div>\n    </div>)\n  }\n}","import React from 'react';\nimport RadioGroup from 'arui-feather/radio-group';\nimport Radio from 'arui-feather/radio';\nimport Checkbox from 'arui-feather/checkbox';\nimport CheckboxGroup from 'arui-feather/checkbox-group';\nimport { ICountriesValues } from './Countries';\n\nconst LEVEL_MARGIN = 20;\nconst LEVEL_PADDING = 5;\n\nexport const generateInitialValuesForInstitutes = (institutes: IInstitute[]) => institutes.reduce((a, c) => ({\n  ...a,\n  ...c.options.reduce((a1, c1) => ({ ...a1, [c.value + '/' + c1.value]: { value: false } }), {})\n}), {});\n\nexport interface IInstituteValues {\n  [k: string]: {\n    value: boolean;\n    children?: IInstituteValues;\n  };\n}\ninterface IProps {\n  values: IInstituteValues;\n  institutes: IInstitute[];\n  onChange: (values: IInstituteValues) => void;\n  level: number;\n  countriesValues: ICountriesValues;\n}\n\nexport interface IOption {\n  label: string;\n  value: string;\n  children?: () => IInstitute[];\n}\n\nexport interface IInstitute {\n  condition?: Function;\n  label: string;\n  value: string;\n  type: 'checkbox' | 'radio';\n  options: IOption[];\n}\n\nexport class Institutes extends React.Component<IProps> {\n  static defaultProps = {\n    level: 0\n  }\n  getResultValue(groupValue: string, optionValue: string) {\n    return groupValue + '/' + optionValue;\n  }\n\n  onChangeRadio = (groupValue: string) => (value: string, checked: boolean) => {\n    const result = this.getResultValue(groupValue, value);\n    const otherValues = Object.keys(this.props.values)\n      .filter(x => {\n        const [a,] = x.split('/');\n        return a === groupValue;\n      })\n      .filter(x => {\n        const [, b] = x.split('/');\n        return b !== value;\n      });\n    // console.log(result, checked);\n    const state = {\n      ...this.props.values,\n      [result]: {\n        ...this.props.values[result],\n        value: checked\n      }\n    };\n    otherValues.forEach(v => {\n      state[v].value = !checked;\n    });\n\n    this.props.onChange(state);\n  }\n\n  onChangeCheckbox = (groupValue: string) => (checked: boolean, value: string) => {\n    const result = this.getResultValue(groupValue, value);\n    // console.log(result, checked);\n    const state = {\n      ...this.props.values,\n      [result]: {\n        ...this.props.values[result],\n        value: checked\n      }\n    };\n    this.props.onChange(state);\n  }\n\n  renderChildren = (institute: IInstitute) => {\n    const { options, label, value: groupValue } = institute;\n\n    return options.map(o => {\n      const resultValue = this.getResultValue(groupValue, o.value);\n      // console.log('o', o, resultValue, this.props.values[resultValue].value);\n      if (!(o.children && this.props.values[resultValue].value)) {\n        return null;\n      }\n      if (!this.props.values[resultValue].children) {\n        this.props.values[resultValue].children = generateInitialValuesForInstitutes(o.children());\n      }\n      const onChange = (values: IInstituteValues) => {\n        const state = {\n          ...this.props.values,\n          [resultValue]: {\n            ...this.props.values[resultValue],\n            children: values\n          }\n        };\n        this.props.onChange(state);\n      };\n      return (<Institutes\n        values={this.props.values[resultValue].children as IInstituteValues}\n        institutes={o.children()}\n        onChange={onChange}\n        level={ this.props.level + 1}\n        countriesValues={ this.props.countriesValues }\n      />);\n    });\n  }\n  renderRadio = (institute: IInstitute, parent?: IInstitute) => {\n    const { options, label, value: groupValue } = institute;\n    return (\n      <>\n        <RadioGroup label={label}>\n          {options.map(o => {\n            const resultValue = this.getResultValue(groupValue, o.value);\n            // console.log('renderRadio', this.props.values, this.props.values[resultValue], resultValue);\n            return (<div key={resultValue}>\n              {/* {this.props.values[this.getResultValue(groupValue, o.value)]} */}\n              <Radio\n                text={o.label}\n                value={o.value}\n                onChange={this.onChangeRadio(groupValue)}\n                checked={this.props.values[resultValue].value}\n              />\n            </div>);\n          })}\n        </RadioGroup>\n        {this.renderChildren(institute)}\n      </>\n    );\n  }\n  renderCheckbox = (institute: IInstitute, parent?: IInstitute) => {\n    const { options, label, value: groupValue } = institute;\n    return (<>\n      <CheckboxGroup label={label}>\n        {options.map(o => {\n          const resultValue = this.getResultValue(groupValue, o.value);\n          // console.log('renderCheckbox', this.props.values, this.props.values[resultValue], resultValue);\n          return (\n            <div key={resultValue}>\n              {/* {this.props.values[resultValue]} */}\n              <Checkbox\n                text={o.label}\n                value={o.value}\n                onChange={this.onChangeCheckbox(groupValue)}\n                checked={this.props.values[resultValue].value}\n              />\n            </div>);\n        })}\n      </CheckboxGroup>\n      {this.renderChildren(institute)}\n    </>);\n  }\n\n  renderInstitute = (institute: IInstitute, parent?: IInstitute) => {\n    if (institute.condition && !institute.condition(this.props)) {\n      return null;\n    }\n\n    const render = () => {\n      if (institute.type === 'radio') {\n        return this.renderRadio(institute, parent);\n      }\n      if (institute.type === 'checkbox') {\n        return this.renderCheckbox(institute, parent);\n      }\n    }\n\n    return (<div key={institute.value} className={'App__institute'}>\n      {render()}\n    </div>);\n  }\n\n  render() {\n    const style = { \n      marginLeft: `${this.props.level * (LEVEL_MARGIN)}px`,\n      paddingLeft: `${LEVEL_PADDING}px`,\n      marginTop: `${this.props.level * LEVEL_PADDING}px`,\n      borderLeft: this.props.level ? '1px solid #aaaa' : 'none',\n    };\n\n    return (<div style={ style }>\n      {this.props.institutes.map(i => {\n        return this.renderInstitute(i);\n      })}\n    </div>);\n  }\n}","export const AdvocacyData = [\n  [ 'Австралия', '0.6', '0.4', '0.8', '1' ],\n  [ 'АСЕАН', '0.54', '0.452', '0.8', '1.1' ],\n  [ 'Бангладеш', '0.5', '0.5', '0.8', '1' ],\n  [ 'Бруней Даруссалам', '0.6', '0.4', '0.8', '1' ],\n  [ 'Вануату', '0.5', '0.4', '0.8', '1' ],\n  [ 'Восточный Тимор', '0.5', '0.4', '0.8', '1' ],\n  [ 'Вьетнам', '0.6', '0.4', '0.8', '1' ],\n  [ 'Гонконг', '0.2', '0.8', '0.8', '1' ],\n  [ 'ЕАЭС', '0.4', '0.5', '0.6', '1' ],\n  [ 'Евросоюз', '0.6', '0.4', '0.8', '1' ],\n  [ 'Индия', '0.6', '0.4', '0.8', '1' ],\n  [ 'Индонезия', '0.5', '0.48', '0.8', '1.2' ],\n  [ 'Камбоджа', '0.5', '0.4', '0.8', '1' ],\n  [ 'Канада', '0.6', '0.4', '0.8', '1' ],\n  [ 'Кирибати', '0.5', '0.4', '0.8', '1' ],\n  [ 'Китай', '0.2', '0.8', '0.7', '1' ],\n  [ 'КНДР', '0.1', '0.1', '0.1', '1' ],\n  [ 'Лаос', '0.5', '0.48', '0.8', '1.2' ],\n  [ 'Макао', '0.2', '0.8', '0.8', '1' ],\n  [ 'Малайзия', '0.6', '0.48', '0.8', '1.2' ],\n  [ 'Маршалловы Острова', '0.5', '0.4', '0.8', '1' ],\n  [ 'Мексика', '0.6', '0.4', '0.8', '1' ],\n  [ 'Микронезия', '0.5', '0.4', '0.8', '1' ],\n  [ 'Монголия', '0.5', '0.5', '0.8', '1' ],\n  [ 'Мьянма', '0.6', '0.48', '0.8', '1.2' ],\n  [ 'Науру', '0.5', '0.4', '0.8', '1' ],\n  [ 'Ниуэ', '0.5', '0.4', '0.8', '1' ],\n  [ 'Новая Зеландия', '0.6', '0.4', '0.8', '1' ],\n  [ 'Острова Кука', '0.5', '0.4', '0.8', '1' ],\n  [ 'Пакистан', '0.5', '0.98', '0.8', '1.4' ],\n  [ 'Палау', '0.5', '0.4', '0.8', '1' ],\n  [ 'Папуа-Новая Гвинея', '0.5', '0.5', '0.8', '1' ],\n  [ 'Перу', '0.6', '0.4', '0.8', '1' ],\n  [ 'Республика Корея', '0.5', '0.5', '0.8', '1' ],\n  [ 'Россия', '0.5', '0.6', '0.8', '1' ],\n  [ 'Самоа', '0.5', '0.4', '0.8', '1' ],\n  [ 'Сингапур', '0.6', '0.4', '0.8', '1' ],\n  [ 'Соломоновы Острова', '0.5', '0.4', '0.8', '1' ],\n  [ 'США', '0.8', '0.2', '0.5', '1' ],\n  [ 'Тайвань', '0.6', '0.3', '0.8', '1' ],\n  [ 'Таиланд', '0.5', '0.4', '0.8', '1' ],\n  [ 'Тонга', '0.5', '0.4', '0.8', '1' ],\n  [ 'Тувалу', '0.5', '0.4', '0.8', '1' ],\n  [ 'Фиджи', '0.5', '0.4', '0.8', '1' ],\n  [ 'Филиппины', '0.4', '0.6', '0.8', '1' ],\n  [ 'Чили', '0.6', '0.4', '0.8', '1' ],\n  [ 'Шри-Ланка', '0.5', '0.6', '0.8', '1.2' ],\n  [ 'Япония', '0.6', '0.4', '0.8', '1' ]\n];\n","export const AffinityData = [\n  [ 'Сингапур', '18', '0.51' ],\n  [ 'АСЕАН', '17.75', '0.5' ],\n  [ 'Япония', '18', '0.51' ],\n  [ 'Вьетнам', '16.5', '0.47' ],\n  [ 'Малайзия', '16.25', '0.46' ],\n  [ 'Китай', '15.5', '0.44' ],\n  [ 'Австралия', '14.75', '0.42' ],\n  [ 'Чили', '14.5', '0.41' ],\n  [ 'Бруней Даруссалам', '14.25', '0.4' ],\n  [ 'Новая Зеландия', '14', '0.4' ],\n  [ 'Республика Корея', '14', '0.4' ],\n  [ 'Таиланд', '13.5', '0.39' ],\n  [ 'Перу', '11.75', '0.34' ],\n  [ 'Мексика', '11.75', '0.34' ],\n  [ 'Индия', '11.25', '0.32' ],\n  [ 'США', '10.5', '0.3' ],\n  [ 'Филиппины', '8.75', '0.25' ],\n  [ 'Канада', '8.5', '0.24' ],\n  [ 'Индонезия', '8.5', '0.24' ],\n  [ 'Пакистан', '8.25', '0.24' ],\n  [ 'Евросоюз', '7', '0.2' ],\n  [ 'Мьянма', '6.25', '0.18' ],\n  [ 'Гонконг', '5.5', '0.16' ],\n  [ 'Шри-Ланка', '5', '0.14' ],\n  [ 'Тайвань', '4.75', '0.13' ],\n  [ 'ЕАЭС', '4.5', '0.13' ],\n  [ 'Лаос', '4', '0.11' ],\n  [ 'Камбоджа', '3.25', '0.09' ],\n  [ 'Папуа-Новая Гвинея', '2.25', '0.06' ],\n  [ 'Макао', '2', '0.06' ],\n  [ 'Монголия', '1.5', '0.04' ],\n  [ 'Бангладеш', '1.25', '0.04' ],\n  [ 'Россия', '0.5', '0.01' ],\n  [ 'Восточный Тимор', '0', '0' ],\n  [ 'КНДР', '0', '0' ]\n]","import { AdvocacyData } from '../data/Advocacy';\nimport { AffinityData } from '../data/Affinity';\n\nexport class Country {\n  affinity_abs: number = 0;\n  affinity_rel: number = 0;\n\n  advocacy_thal: number = 0;\n  advocacy_tel: number = 0;\n  advocacy_ind: number = 0;\n\n  constructor(public name: string) { }\n\n  static create(name: string) {\n\n    const advocacy = AdvocacyData.find(([rowName]) => rowName === name) as string[];\n    const affinity = AffinityData.find(([rowName]) => rowName === name) as string[];\n\n    const country = new Country(name);\n\n    country.affinity_abs = +affinity[1];\n    country.affinity_rel = +affinity[2];\n\n    country.advocacy_thal = +advocacy[1];\n    country.advocacy_tel = +advocacy[2];\n    country.advocacy_ind = +advocacy[3];\n\n    return country;\n  }\n\n  static createList(countries: string[]) {\n    return countries.map(x => Country.create(x));\n  }\n}","import { Country } from './Country';\nimport { ICountriesValues } from '../Countries';\nimport { IInstitute } from '../Institutes';\n\nexport class Advocacy {\n  name = 'advocacy';\n  value: number = 0;\n\n  /**\n   *  value: 'advocacy',\n    type: 'radio',\n    options: [\n      { label: 'талассократ', value: 'thalassocratic' },\n      { label: 'теллурократия', value: 'tellorocratic' },\n      { label: 'нет (независимый)', value: 'none (independent)' }\n   *\n   * options - массив вида ['advocay/thalasscratic']\n   * \n   */\n  static getFiltered = (\n    numberToFilter: number,\n    field: string,\n    countries: Country[],\n    revert = false\n  ) => countries.filter(country => {\n    return revert\n     // @ts-ignore\n      ? country[field] <= numberToFilter\n      // @ts-ignore\n      : (country[field] >= numberToFilter)\n  });\n\n  findMaxCountry = (countries: Country[], property: 'advocacy_thal' | 'advocacy_tel' | 'advocacy_ind') => {\n    // @ts-ignore\n    return countries.reduce((max, current) => countries[property] > max ? countries[property] : max, 0);\n  };\n  finMinCountry = (countries: Country[], property: 'advocacy_thal' | 'advocacy_tel' | 'advocacy_ind') => {\n    // @ts-ignore\n    return countries.reduce((max, current) => countries[property] < max ? countries[property] : max);\n  };\n\n  handleCase = (property: string, countries: Country[], advocacy: Advocacy) => {\n    // ## Случай 1\n    if (Advocacy.getFiltered(0.6, property, countries).length === countries.length) {\n      advocacy.value = 0.6\n      return;\n    // ## Случай 2\n    } if (Advocacy.getFiltered(0.5, property, countries).length === countries.length) {\n      advocacy.value = 0.5;\n      return;\n    // ## Случай 3\n    } if (Advocacy.getFiltered(0.4, property, countries, true).length === countries.length) {\n      // TODO: \n      // учитывать значение в финальной формуле\n      advocacy.value = 0.1;\n      return;\n    // ## Случай 4\n    } else {\n      const min = advocacy.finMinCountry(countries, property as any);\n      const max = advocacy.findMaxCountry(countries, property as any);\n      const result = max - +min;\n      if (result >= 0.4) {\n        advocacy.value = 0.25;\n      } else if (result < 0.4) {\n        advocacy.value = 0.6;\n      }\n    }\n  }\n\n  static create(options: string[], countries: Country[]) {\n    const advocacy = new Advocacy();\n    let property: any = '';\n\n    if (options.includes('advocacy/thalassocratic')) {\n      property = 'advocacy_thal';\n      advocacy.handleCase(property, countries, advocacy);\n\n    } else if (options.includes('advocacy/tellorocratic')) {\n      property = 'advocacy_tel';\n      advocacy.handleCase(property, countries, advocacy);\n\n    } else if (options.includes('advocacy/none (independent)')) {\n      property = 'advocacy_ind';\n      advocacy.handleCase(property, countries, advocacy);\n    }\n\n    return advocacy;\n  }\n}","import React from 'react';\nimport Heading from 'arui-feather/heading';\n\nimport { Countries, ICountriesValues } from './Countries';\n\nimport './App.css';\nimport { IInstitute, Institutes, IInstituteValues, generateInitialValuesForInstitutes } from './Institutes';\n\nimport { Country } from '../src/entities/Country';\nimport { Advocacy } from './entities/Advocacy';\n\nconst COUNTRIES = [\n  'Австралия',\n  'АСЕАН',\n  'Бангладеш',\n  'Бруней Даруссалам',\n  'Восточный Тимор',\n  'Вьетнам',\n  'Гонконг',\n  'ЕАЭС',\n  'Евросоюз',\n  'Индия',\n  'Индонезия',\n  'Камбоджа',\n  'Канада',\n  'Китай',\n  'КНДР',\n  'Лаос',\n  'Макао',\n  'Малайзия',\n  'Мексика',\n  'Монголия',\n  'Мьянма',\n  'Новая Зеландия',\n  'Острова Кука',\n  'Пакистан',\n  'Папуа-Новая Гвинея',\n  'Перу',\n  'Республика Корея',\n  'Россия',\n  'Сингапур',\n  'США',\n  'Тайвань',\n  'Таиланд',\n  'Филиппины',\n  'Чили',\n  'Шри-Ланка',\n  'Япония'\n];\n\nconst ADVOCACY: IInstitute = {\n  label: 'Поддержка аттрактора',\n  value: 'advocacy',\n  type: 'radio',\n  options: [\n    { label: 'талассократ', value: 'thalassocratic' },\n    { label: 'теллурократия', value: 'tellorocratic' },\n    { label: 'нет (независимый)', value: 'none (independent)' }\n  ]\n};\n\nconst OPENNESS: IInstitute = {\n  condition: (props: any) => {\n    const { length } =  props.countriesValues && Object.keys(props.countriesValues)\n      .filter(k => (props.countriesValues as ICountriesValues)[k] as boolean);\n\n      return length >= 3;  \n  },\n  label: 'Открытость',\n  value: 'openness',\n  type: 'radio',\n  options: [\n    { label: 'открытый регионализм', value: 'open regionalism' },\n    {\n      label: 'закрытый регионализм',\n      value: 'closed regionalism',\n      children: () => [\n        ADVOCACY\n      ]\n    }\n  ]\n};\n\nconst SCOPE: IInstitute = {\n  label: 'Сфера деятельности',\n  value: 'scope',\n  type: 'checkbox',\n  options: [\n    { label: 'экономическая', value: 'economie' },\n    { label: 'военнно-политическая', value: 'military-political' }\n  ]\n};\nconst LATERALISM: IInstitute = {\n  label: 'Латеральность',\n  value: 'lateralism',\n  type: 'radio',\n  options: [\n    { label: 'двухсторонний', value: 'bilateral' },\n    { label: 'многосторонний', value: 'multilateral' }\n  ]\n};\n\nconst COMMITMENT: IInstitute = {\n  label: 'Степень обязательства',\n  value: 'commitment',\n  type: 'radio',\n  options: [\n    { label: 'рекомендательный', value: 'non-regulatory' },\n    { label: 'обязывающий', value: 'regulatory' }\n  ]\n};\n\nconst INHERITANCE: IInstitute = {\n  label: 'Наследование',\n  value: 'inheritance',\n  type: 'radio',\n  options: [\n    { label: 'новый', value: 'new' },\n    {\n      label: 'производный',\n      value: 'deriative',\n      children: () => [\n        INHERITANCE_REQUIRED\n      ]\n    }\n  ]\n};\n\nconst INHERITANCE_REQUIRED: IInstitute = {\n  label: 'Требование к наследованию',\n  value: 'inheritance required',\n  type: 'radio',\n  options: [\n    {\n      label: 'требуется вступить в базовый',\n      value: 'yes',\n      children: () => [\n        SCOPE,\n        COMMITMENT,\n        UNIQNESS,\n        OPENNESS\n      ]\n    },\n    { label: 'не требуется', value: 'no' }\n  ]\n};\n\n\nconst UNIQNESS: IInstitute = {\n  label: 'Уникальность',\n  value: 'uniqness',\n  type: 'radio',\n  options: [\n    {\n      label: 'есть альтернативный',\n      value: 'alternative',\n      children: () => [\n        SCOPE,\n        COMMITMENT,\n        INHERITANCE,\n        OPENNESS\n      ]\n    },\n    { label: 'нет альтернативного', value: 'unique' }\n  ]\n};\n\n\nconst INSTITUTES: IInstitute[] = [\n  SCOPE,\n  LATERALISM,\n  COMMITMENT,\n  UNIQNESS,\n  INHERITANCE,\n  OPENNESS,\n]\n\n/**\n *\n * двусторонний: должно быть две ровно страны\n * многосторонний: не меньше 3\n *\n */\n\ninterface IProps {\n\n}\ninterface IState {\n  countries: ICountriesValues;\n  institutes: IInstituteValues;\n  minCountriesSelected: number;\n  maxCountriesSelected: number;\n  displayMembership: boolean;\n  membership: ICountriesValues;\n}\nclass App extends React.Component<IProps, IState> {\n  countries = COUNTRIES;\n  institutes = INSTITUTES;\n\n  state = {\n    countries: this.countries.reduce((a, c) => ({ ...a, [c]: false }), {}),\n    institutes: generateInitialValuesForInstitutes(this.institutes),\n    minCountriesSelected: 0,\n    maxCountriesSelected: 0,\n    membership: this.countries.reduce((a, c) => ({ ...a, [c]: false }), {}),\n    displayMembership: false,\n  }\n\n  onInstituteChange = (institutes: IInstituteValues) => {\n    let extraState: any = {};\n    if (institutes['lateralism/bilateral'].value) {\n      extraState = { minCountriesSelected: 2, maxCountriesSelected: 2 };\n    } else if (institutes['lateralism/multilateral'].value) {\n      extraState = { minCountriesSelected: 3, maxCountriesSelected: 0 };\n    }\n    // console.log(\"institutes['inheritance/deriative'])\", institutes['inheritance/deriative']);\n    if (institutes['inheritance/deriative'].value) {\n      extraState.displayMembership = true;\n    } else {\n      extraState.displayMembership = false;\n    }\n    // console.log('extra state', institutes['lateralism/bilateral'], institutes['lateralism/multilateral']);\n    this.setState({ institutes, ...extraState });\n    // console.log(institutes);\n\n  }\n  onCountriesChange = (countries: ICountriesValues) => {\n    this.setState({ countries });\n    // console.log(countries);\n  }\n\n  membershipOnChange = (value: boolean, name: string) => {\n    // console.log('membershipOnChange', value, name);\n    this.setState({ membership: { ...this.state.membership, [name]: value } });\n  }\n\n  get selectedCountries() {\n    // TODO: АСЕаН\n    return Object.keys(this.state.countries)\n    .filter(k => (this.state.countries as ICountriesValues)[k] as boolean);\n  }\n\n  get selectedInstitutes() {\n    console.log('institutes', this.state.institutes);\n    return Object.keys(this.state.institutes)\n      .filter((k: string) => {\n        const { value, children } = (this.state.institutes as IInstituteValues)[k];\n        if (value || children) {\n          return true;  \n        }\n        return false;\n      });  \n  }\n\n  render() {\n    console.log('this.selectedInstitutes', this.selectedInstitutes);\n    // console.log('this.selectedCountries', this.selectedCountries);\n    const countriesRaw = Country.createList(this.selectedCountries);\n    console.log('countriesRaw', countriesRaw);\n\n    const opennessInstitute: any = Object.keys(this.state.institutes)\n      .find(k => k === 'openness/closed regionalism');\n\n      console.log('opennessInstitute', (this.state.institutes as any)[opennessInstitute] , this.state);\n\n      if (opennessInstitute && (opennessInstitute as any).value && (opennessInstitute as any).children){\n        const advocacy = Advocacy.create(this.selectedInstitutes, countriesRaw);\n        console.log(advocacy);\n      } \n\n    return (\n      <div className=\"App\">\n        <div className=\"App__institutes\">\n          <Heading size='xs'>\n            Выберите характеристики института:\n          </Heading>\n          <Institutes\n            countriesValues={this.state.countries}\n            institutes={this.institutes}\n            onChange={this.onInstituteChange}\n            values={this.state.institutes}\n          />\n        </div>\n        <div className=\"App__countries\">\n          <Countries\n            countries={this.countries}\n            onChange={this.onCountriesChange}\n            values={this.state.countries}\n            minSelected={this.state.minCountriesSelected}\n            maxSelected={this.state.maxCountriesSelected}\n            membershipValue={this.state.membership}\n            displayMembership={this.state.displayMembership}\n            membershipOnChange={this.membershipOnChange}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}